# Internationalization (i18n) Guide

## Overview

Rotulador implements a simple yet effective internationalization system that allows all user-facing strings to be translated into different languages.

## How It Works

The i18n system uses:
1. **Configuration-based translations**: All translations are defined in the `config.yaml` file
2. **Template function**: The `i()` function is available in all Go templates
3. **Go function**: The `i()` function is also available in Go code
4. **Fallback mechanism**: If a translation is not found, the original English key is displayed

## Adding Translations

To add translations for your project, edit your `config.yaml` file and add an `i18n` section:

```yaml
i18n:
  - name: "English string"
    value: "Translated string"
  - name: "Another string"
    value: "Outra string"
```

## Available Translation Keys

### Navigation and Layout
- `Home` - Main navigation link
- `Help` - Help page link
- `Annotate` - Annotation page link
- `Toggle theme` - Theme switcher tooltip
- `Rotulador - Image Annotation Tool` - Footer text

### Progress Bar
- `completed` - Completed items tooltip
- `pending` - Pending items tooltip
- `not yet annotated in previous phase` - Not annotated tooltip
- `annotated with wrong class in previous phase` - Wrong class tooltip

### Home Page
- `Annotation Instructions` - Button to view instructions
- `Continue Annotations` - Button to continue annotating

### Complete Page
- `Congratulations!` - Success message header
- `All annotations are complete!` - Success message body
- `Go to Home` - Button to return home

### Annotate Page
- `Not Sure` - Button when user is uncertain
- `Copied to clipboard!` - Toast notification message

### Help Page
- `Project help` - Page title
- `Description` - Section header
- `Phase` - Phase label
- `Possible choices` - Choices section header
- `(No name)` - Placeholder for missing names
- `(No description provided)` - Placeholder for missing descriptions
- `Examples` - Examples section header
- `Progress` - Progress section header
- `eligible` - Eligible items label
- `total` - Total items label
- `Dependencies:` - Dependencies label
- `Back to Overview` - Navigation button
- `Start Annotation` - Start button
- `All images annotated` - Completion message
- `Annotation Phases` - Phases list header
- `View Details` - Details button

### Application Messages
- `annotation` - Page title for annotation page
- `Welcome to Rotulador` - Welcome message
- `All annotations are done!` - Completion page title

## Usage in Templates

In Go templates, simply wrap any string with the `i` function:

```html
<h1>{{i "Welcome to Rotulador"}}</h1>
<a href="/">{{i "Home"}}</a>
```

## Usage in Go Code

In Go code, use the `i()` function:

```go
title := i("Welcome to Rotulador")
```

## Example Configuration

See `examples/test/config.yaml` for a complete example with Portuguese (pt-BR) translations.

### English (Default)
When no translation is provided, English strings are used as the default.

### Portuguese (pt-BR)
The example configuration includes full Portuguese translations.

## Adding a New Language

To add support for a new language:

1. Create a new `config.yaml` for your project
2. Add the `i18n` section with translations for all keys listed above
3. The system will automatically use your translations

## Best Practices

1. **Use descriptive keys**: Keys should be the full English phrase (e.g., "Welcome to Rotulador" not "welcome")
2. **Keep context**: Include enough context in the key to make translation clear
3. **Test thoroughly**: Verify all translations appear correctly in the UI
4. **Document custom keys**: If you add new strings, document them

## Implementation Details

- **Location**: Core i18n code is in `annotation/i18n.go`
- **Configuration**: Loaded from YAML in `annotation/config.go`
- **Templates**: Registered in `annotation/template.go`
- **Lookup**: Simple map-based key-value lookup with fallback to key

## Current Language Support

- ✅ **English** (default, built-in)
- ✅ **Portuguese (pt-BR)** (example in `examples/test/config.yaml`)
- ⚪ Other languages (add your own in `config.yaml`)
